<app-header></app-header>

<section id="main-content" class="main-content">
    <div id="slideshow-container" class="container slideshow-container">
        <div class="slides" *ngFor="let img of slides; let i = index" [id]="'slide-' + (i + 1)" [style.display]="slideIndex === i + 1 ? 'block' : 'none'">
            <div class="numbertext">{{ i + 1 }} / {{ slides.length }}</div>
            <img [src]="img.src" [alt]="img.alt">
        </div>

        <a id="slide-prev" class="prev" (click)="plusSlides(-1)">❮</a>
        <a id="slide-next" class="next" (click)="plusSlides(1)">❯</a>

        <div id="slide-caption" class="caption-container">
            <p>{{ slides[slideIndex - 1]?.alt }}</p>
        </div>

        <div class="column" *ngFor="let img of slides; let i = index">
            <div class="side-navigation">
                <img id="slide-thumb-{{i + 1}}" class="demo cursor" [class.active]="slideIndex === i + 1" [src]="img.src" style="width:100%" (click)="currentSlide(i + 1)" [alt]="img.alt">
            </div>
        </div>
    </div>

    <section id="product-details" class="product-details">
        <h1 id="product-title" class="product-title">Stiletto Essential 90</h1>
        <div id="product-meta" class="product-meta">
            <span id="product-sku" class="product-sku">SKU 123456</span>
        </div>
        <p id="product-description" class="product-description">
            Stiletto clásico con tacón de aguja, silueta estilizada y acabado en cuero vegano.
            Plantilla acolchada y suela antideslizante para confort durante todo el día.
        </p>
        <div id="product-pickers" class="product-pickers">
            <div id="size-picker" class="size-picker">
                <label for="size">Talla</label>
                <select id="size" class="select" [value]="selectedSize ?? ''" (change)="onSizeChange($event)">
                    <option value="" disabled>Selecciona tu talla</option>
                    <option *ngFor="let s of sizes" [value]="s">{{ s }}</option>
                </select>
            </div>
            <div id="quantity-picker" class="quantity-picker">
                <label for="quantity">Cantidad</label>
                <input id="quantity" class="input" type="number" min="1" [value]="quantity" (input)="onQuantityInput($event)">
            </div>
        </div>
        <button id="add-to-cart-btn" class="add-to-cart" [disabled]="!selectedSize || quantity < 1" (click)="addToCart()">
            Agregar al carrito
        </button>
    </section>
</section>

<app-form></app-form>

<app-footer></app-footer>